{"version":3,"file":"main.js","sources":["../src/global.ts","../src/main.ts"],"sourcesContent":["/**\r\n *  Global function/constants \r\n */\r\n\r\ndeclare function enref(obj: any): Ref | null;\r\ndeclare function deref(ref: Ref): any;\r\n\r\nglobal.enref = function(obj: any): Ref | null{\r\n    let ref: Ref;\r\n    if (!obj) {\r\n        console.log(\"[ERROR] Function 'enref()': undefined input object\");\r\n        return null;\r\n    }\r\n    if (obj.id) {\r\n        ref.id = obj.id;\r\n        return ref;\r\n    } else {\r\n        ref.flagName = obj.name;\r\n        return ref;\r\n    }\r\n}\r\n\r\nglobal.deref = function(ref: Ref): any{\r\n    if (ref.id) {\r\n        return Game.getObjectById(ref.id);\r\n    }\r\n    if (ref.flagName) {\r\n        return Game.flags[ref.flagName];\r\n    }\r\n    console.log(\"[ERROR] Function 'deref()': empty input reference\");\r\n    return null;\r\n}\r\n","import {errorMapper} from './test/errorMapper';\r\nimport './global';\r\n\r\n// export const loop = errorMapper(() => {\r\n//     let testObj: Zoo = new Zoo(['dog', 'cat'], ['doggy', 'catty'])\r\n//     console.log(testObj);\r\n// }, true)\r\n\r\nexport const loop = function() {\r\n\r\n    // Initialize memory\r\n    if (!Memory.initFlag) {\r\n        Memory.initFlag = true;\r\n        /* TODO: initialize memory */\r\n        console.log('[MESSAGE] Memory initialized');\r\n    }\r\n    \r\n    // Caching\r\n    if (!global.resetFlag) {\r\n        global.resetFlag = true\r\n        console.log('[MESSAGE] Global reset');\r\n        /* TODO: Rebuild all objects */\r\n    } \r\n}"],"names":[],"mappings":";;;;AAAA;;AAEG;AAKH,MAAM,CAAC,KAAK,GAAG,UAAS,GAAQ,EAAA;AAC5B,IAAA,IAAI,GAAQ,CAAC;IACb,IAAI,CAAC,GAAG,EAAE;AACN,QAAA,OAAO,CAAC,GAAG,CAAC,oDAAoD,CAAC,CAAC;AAClE,QAAA,OAAO,IAAI,CAAC;AACf,KAAA;IACD,IAAI,GAAG,CAAC,EAAE,EAAE;AACR,QAAA,GAAG,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC;AAChB,QAAA,OAAO,GAAG,CAAC;AACd,KAAA;AAAM,SAAA;AACH,QAAA,GAAG,CAAC,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC;AACxB,QAAA,OAAO,GAAG,CAAC;AACd,KAAA;AACL,CAAC,CAAA;AAED,MAAM,CAAC,KAAK,GAAG,UAAS,GAAQ,EAAA;IAC5B,IAAI,GAAG,CAAC,EAAE,EAAE;QACR,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;AACrC,KAAA;IACD,IAAI,GAAG,CAAC,QAAQ,EAAE;QACd,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;AACnC,KAAA;AACD,IAAA,OAAO,CAAC,GAAG,CAAC,mDAAmD,CAAC,CAAC;AACjE,IAAA,OAAO,IAAI,CAAC;AAChB,CAAC;;AC5BD;AACA;AACA;AACA;AAEa,MAAA,IAAI,GAAG,YAAA;;AAGhB,IAAA,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE;AAClB,QAAA,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC;;AAEvB,QAAA,OAAO,CAAC,GAAG,CAAC,8BAA8B,CAAC,CAAC;AAC/C,KAAA;;AAGD,IAAA,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE;AACnB,QAAA,MAAM,CAAC,SAAS,GAAG,IAAI,CAAA;AACvB,QAAA,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;;AAEzC,KAAA;AACL;;;;"}